# A/B-тестирование

## Постановка задачи

Наша задача — провести оценку результатов A/B-теста. В нашем распоряжении есть датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов.

Требуется:
- оценить корректность проведения теста;
- проанализировать результаты теста.



## Техническое задание

- Название теста: `recommender_system_test`;
- группы: А — контрольная, B — новая платёжная воронка;
- дата запуска: 2020-12-07;
- дата остановки набора новых пользователей: 2020-12-21;
- дата остановки: 2021-01-04;
- аудитория: в тест должно быть отобрано 15% новых пользователей из региона EU;
- назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;
- ожидаемое количество участников теста: 6000.
- ожидаемый эффект: за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%:
    - конверсии в просмотр карточек товаров — событие `product_page`,
    - просмотры корзины — `product_cart`,
    - покупки — `purchase`.

    ## Общие выводы

В рамках исследовательского анализа данных было выявлено:
- данные не соответствуют требованиям ТЗ:
    - пользователи, зарегистрировавшиеся после 16 декабря не прошли весь двухнедельный жизненный цикл т.к. последней датой в датасете является 30 декабря;
    - число пользователей, совершавших какие-либо действия во время тестирования, меньше чем 6000, указанных в ТЗ;
- Разница в среднем количестве событий между группами составляет 20% и может быть обусловлена как неправильным формированием тестовых групп, так и изменениями, исследуемыми в тесте.
- В группе В события по дням распределены равномерно; после 21 декабря (последнего дня регистрации новых пользователей) идет спад до самого конца теста. В Контрольной группе происходит резкий всплеск событий 14 декабря (совпадает с ростом количества регистраций в этот день). Именно с этого дня регистрация "молчаливых" пользователей идет только по группе В. После пика 21 декабря, в этой группе также наступает спад, выраженный более явно. Есть сомнения в равномерности распределения и правильности формирования тестовых групп;
- группы составлены неравномерно. Количество участников контрольной группы в три раза превышает количество участников тестовой.
- в период проведения теста проходят праздники католического рождества и нового года.
- в группе А ежедневно в среднем совершается на 20% больше событий, чем в группе В;
- есть пересечения с конкурирующим тестом. Они распределены по тестовой и контрольной группам нашего теста пропорционально размерам этих групп;
- конверсия тестовой группы В на всех шагах воронки ниже, чем контрольной группы А. Самые большие потери в группе А происходят поровну на первых двух шагах: при переходе от логина к карточке товара, и с карточки товара в корзину. В группе В провал с первого шага - потери составляют 44% пользователей. Покупки больше корзины, что свидетельствует о возможности "быстрой покупки": купить товар сразу из его карточки, не добавляя в корзину.
- при проверке гипотез о равенстве долей выяснилось, что значимая разница имеется только на первом шаге воронки - переходе на карточку товара. Для остальных событий уровень  статистической значимости не позволяет отвергнуть нулевую гипотезу, что группы не различаются между собой.
- ожидаемый эффект, а именно улучшение каждой метрики не менее, чем на 10% не достигнут.

По итогам исследования можно сделать вывод о том, что тест был проведен некорректно и его результаты не могут рассматриваться, как достоверные. Необходимо скорректировать распределение пользователей по группам, выбрать время где нет событий, влияющих на решения участников теста и провести тест повторно.